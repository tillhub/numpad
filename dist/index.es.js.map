{"version":3,"file":"index.es.js","sources":["../src/Keypad/Button.js","../src/images/backspace-icon.svg","../src/Keypad/ButtonValues.js","../src/Keypad/index.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { css } from 'styled-components'\n\nconst ButtonDisabled = css`\n  color: grey;\n  cursor: auto;\n  img {\n    opacity: 0.4;\n  }\n`\nconst ButtonActive = css`\n  &:hover {\n    background-color: rgba(238, 159, 89, 0.5);\n  }\n  &:active {\n    background-color: rgb(238, 159, 89);\n    box-shadow: 0 2px #666;\n    transform: translateY(2px);\n  }\n`\nconst StyledButton = styled.span`\n  background: lightgrey;\n  text-align: center;\n  border-radius: 4px;\n  line-height: 40px;\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  ${({ disabled }) => (disabled ? ButtonDisabled : ButtonActive)};\n`\n\nexport default function Button({\n  text,\n  clickHandler,\n  className,\n  children,\n  disabled\n}) {\n  function handleClick() {\n    if (disabled) return\n    clickHandler(text)\n  }\n\n  return (\n    <StyledButton\n      className={className}\n      disabled={disabled}\n      onClick={handleClick}\n    >\n      {children}\n    </StyledButton>\n  )\n}\n\nButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  clickHandler: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool.isRequired\n}\n\nButton.defaultProps = {\n  className: null\n}\n","export default \"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%20%20%20%20%3Cpath%20d%3D%22M20%2011H7.83l5.59-5.59L12%204l-8%208%208%208%201.41-1.41L7.83%2013H20v-2z%22%2F%3E%3C%2Fsvg%3E\"","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from './Button'\n\nconst buttonValues = ['C', '7', '8', '9', '4', '5', '6', '1', '2', '3']\n\nfunction Buttons({ clickHandler, disabled }) {\n  return buttonValues.map(value => (\n    <Button\n      text={value}\n      clickHandler={clickHandler}\n      key={value}\n      disabled={disabled}\n    >\n      {value}\n    </Button>\n  ))\n}\n\nButtons.propTypes = {\n  clickHandler: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired\n}\n\nexport default Buttons\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from './Button'\nimport styled from 'styled-components'\nimport backspaceIcon from '../images/backspace-icon.svg'\nimport Buttons from './ButtonValues'\n\nconst StyledKeypad = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 1em;\n  grid-auto-rows: 40px;\n  user-select: none;\n`\n\nconst StyledBackButton = styled(Button)`\n  grid-column: 1/3;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst StyledZeroButton = styled(Button)`\n  grid-column: 1/3;\n`\n\nexport default function Keypad({ clickHandler, disabled, decimalSeparator }) {\n  return (\n    <StyledKeypad>\n      <StyledBackButton\n        text=\"back\"\n        clickHandler={clickHandler}\n        disabled={disabled}\n      >\n        <img src={backspaceIcon} />\n      </StyledBackButton>\n      <Buttons clickHandler={clickHandler} disabled={disabled} />\n      <StyledZeroButton\n        text=\"0\"\n        clickHandler={clickHandler}\n        disabled={disabled}\n      >\n        0\n      </StyledZeroButton>\n      <Button\n        text={decimalSeparator}\n        clickHandler={clickHandler}\n        disabled={disabled}\n      >\n        {decimalSeparator}\n      </Button>\n    </StyledKeypad>\n  )\n}\n\nKeypad.propTypes = {\n  clickHandler: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  decimalSeparator: PropTypes.string.isRequired\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Keypad from './Keypad'\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: ${({ width }) => width};\n`\n\nconst StyledInput = styled.input`\n  padding: 30px 0;\n  text-align: center;\n  font-size: 80px;\n  border: none;\n  width: 100%;\n  margin-bottom: 30px;\n`\n\nconst DEFAULT_WIDTH = '400px'\n\nexport default class NumPad extends Component {\n  state = {\n    input: this.props.startValue\n  }\n\n  validate(string) {\n    if (string === '') return true\n\n    // regex matches single 0, single minus,\n    // positive/negative decimal numbers (up to 2 digits after separator),\n    // empty string\n    let regex\n    if (this.props.decimalSeparator === ',') {\n      regex = /^$|^-?(0|[1-9][0-9]*)(,?|,[0-9][0-9]?)$|^-$/g\n    } else {\n      regex = /^$|^-?(0|[1-9][0-9]*)(\\.?|\\.[0-9][0-9]?)$|^-$/g\n    }\n\n    return regex.test(string)\n  }\n\n  removeLeadingZero(string) {\n    if (!string) return ''\n    return string.replace(/^0(?=[0-9-])/g, '')\n  }\n\n  setDisplayText = text => {\n    const displayText = this.removeLeadingZero(text)\n\n    if (!this.validate(displayText)) return null\n\n    return this.setState({ input: displayText }, () => {\n      this.props.handleChange(this.state.input)\n    })\n  }\n\n  removeLastCharacter(str) {\n    if (!str) return str\n    return str.trim().slice(0, -1)\n  }\n\n  handleKeypadPress = key => {\n    const { input } = this.state\n\n    let text\n\n    if (key === 'back') {\n      text = this.removeLastCharacter(input && input.toString())\n    } else if (key === 'C') {\n      text = '0'\n    } else {\n      text = input ? `${input.toString()}${key}` : key\n    }\n\n    this.setDisplayText(text)\n  }\n\n  render() {\n    const {\n      disabled,\n      withoutInputField,\n      decimalSeparator,\n      width,\n      children\n    } = this.props\n    const { input } = this.state\n\n    return (\n      <StyledWrapper width={width}>\n        <StyledInput\n          data-testid=\"input\"\n          value={input || '0'}\n          onChange={e => this.setDisplayText(e.target.value)}\n          disabled={disabled || withoutInputField}\n        />\n\n        {children}\n\n        <Keypad\n          disabled={disabled}\n          clickHandler={this.handleKeypadPress}\n          decimalSeparator={decimalSeparator}\n        />\n      </StyledWrapper>\n    )\n  }\n}\n\nNumPad.propTypes = {\n  handleChange: PropTypes.func,\n  startValue: PropTypes.string,\n  disabled: PropTypes.bool,\n  withoutInputField: PropTypes.bool,\n  decimalSeparator: PropTypes.string,\n  width: PropTypes.string,\n  children: PropTypes.node\n}\n\nNumPad.defaultProps = {\n  handleChange: () => { },\n  startValue: '0',\n  disabled: false,\n  withoutInputField: false,\n  decimalSeparator: '.',\n  width: DEFAULT_WIDTH,\n  children: null\n}\n"],"names":["ButtonDisabled","css","ButtonActive","StyledButton","styled","span","disabled","Button","text","clickHandler","className","children","handleClick","propTypes","PropTypes","string","isRequired","func","node","bool","defaultProps","buttonValues","Buttons","map","value","StyledKeypad","div","StyledBackButton","StyledZeroButton","Keypad","decimalSeparator","backspaceIcon","StyledWrapper","width","StyledInput","input","DEFAULT_WIDTH","NumPad","state","props","startValue","setDisplayText","displayText","removeLeadingZero","validate","setState","handleChange","handleKeypadPress","key","removeLastCharacter","toString","regex","test","replace","str","trim","slice","withoutInputField","e","target","Component"],"mappings":"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"}